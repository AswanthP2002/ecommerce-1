
<section id="landing-section" class="" data-banners="{{landingBanners}}">
    <div class="container ps-3 pe-3" id="landing-section-container"> <!-- color applied for testing -->
        <div class="row align-items-center">
        <div class="col-12 col-md-6">
            <div class="content-test">
                <p class="page-headings text-dark" id="landingPageHead" data-aos="fade-right" data-aos-duration="1500" data-aos-delay="0">
                    find <span class="olive-text">clothes</span> that matches <span class="olive-text">your style</span>
                </p>
                <p class="page-intro text-secondary" id="pageIntro" data-aos="fade-right" data-aos-duration="1500" data-aos-delay="400">
                    browse through our diverse range of meticulously crafted
                    garments designed to bring out your individually and catter to your sense of style
                </p>
                <a href="/products" class="btn mt-3 mb-3 text-white dark-olive-bg" id="btn-landing-section" data-aos="fade-right"
                                    data-aos-duration="1500" data-aos-delay="800">Shop now</a>
                <div id="progress-show" class="d-flex gap-4 mt-2">
                    <div class="box" data-aos="flip-up" data-aos-duration="1500" data-aos-delay="0">
                        <p class="count text-dark" data-count-target="20">0</p>
                        <p class="info text-dark">International Brands</p>
                    </div>
                    <div class="box" data-aos="flip-up" data-aos-duration="1500" data-aos-delay="200">
                        <p class="count text-dark" data-count-target="200">170</p>
                        <p class="info text-dark">High quality products</p>
                    </div>
                    <div class="box" data-aos="flip-up" data-aos-duration="1500" data-aos-delay="400">
                        <p class="count text-dark" data-count-target="3000">2970</p>
                        <p class="info text-dark">Happy Customers</p>
                    </div>
                </div>

            </div>
        </div>
        <div class="col-12 col-md-6">
            <div class="content-test" style="overflow: hidden;">
                <img src="/images/frontend/1000_F_217720459_n0KOlwCFQ4HUPNa36SfVaag35pTihvAK-removebg-preview.png" alt="" class="img-fluid d-block m-auto" id="img-landing-section">
            </div>
        </div>
    </div>
    </div>
</section>

<div id="brand-banners" class="bg-black position-relative">
        <div class="container">
            <div class="d-flex justify-content-between pt-3 pb-3" id="brandLine">
                <p class="brand-name text-white" id="versase">versase</p>
                <p class="brand-name text-white" id="zara">zara</p>
                <p class="brand-name text-white" id="gucci">gucci</p>
                <p class="brand-name text-white" id="prada">prada</p>
                <p class="brand-name text-white" id="calvin-clein">calvin clein</p>
            </div>
        </div>
</div>

<section id="clipping" class="pb-4 pt-4">
    <div class="container">
        <p class="fw-bold fs-4 mt-5 text-center" data-aos="fade-right">New Deals, New Trends</p>
    <div class="border border-warning m-auto mb-4" style="width:80px;3px solid black" data-aos="fade-right"></div>
    <div class="d-flex gap-4 justify-content-center" id="clippingBanner-container">
        {{#each clippingBanners}}
            <img src="/images/backend/banners/{{this.bannerType}}/{{this.bannerImage}}" alt="clipping Banners" style="" class="img-fluid clipping-banner-img" id="">
        {{/each}}
    </div>
    </div>
</section>
<section id="new-arrivals">
    <div class="container">
        <p class="fw-bold fs-4 mt-5 text-center" data-aos="fade-right">New Arrivals</p>
    <div class="border border-warning m-auto mb-4" style="width:80px;3px solid black" data-aos="fade-right"></div>
        <div class="top-list-container row gy-3">
            {{#each newArrivals}}
            <div class="col-6 col-md-4 col-lg-3" data-aos="fade-up" data-aos-duration="2500">
                <div class="card border-0 product-card-hover">
                    
                        <figure class=" position-relative card-img-container rounded d-flex justify-content-center align-items-center align" style="overflow: hidden;">
                        <a href="/products/product_details/?id={{this._id}}" class="text-decoration-none">
                        <img src="/images/backend/products/{{this.sku}}/{{getImage this.productImage 0}}" class="img-fluid" alt="" style="max-width:300px;height:auto;object-fit: cover;object-position:center" >
                        </a>
                        <button type="button" id="wishlist-button" class="btn position-absolute wishlist-btn">
                            <i class="fa-solid fa-heart heart-icon" id="wishlist-icon" data-productid="{{this._id}}"></i>
                        </button>
                        </figure>
                        
                        <figcaption class="ps-3">
                            <p class="name mt-3 fw-bold fs-5" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">{{this.productName}}</p>
                    <p class="rating lh-1" style="margin-top: -10px;">{{ratingStars this.rating}}</p>
                    <div class="d-flex gap-3" style="margin-top: -5px;">
                        <p class="of-price fw-bold fs-6">₹{{getVariantPrice this.variantDetails "small" "offerPrice"}}</p>
                        {{#if (checkOffer this.productOffer)}}
                        <p class=" text-secondary text-decoration-line-through price"> ₹{{getVariantPrice this.variantDetails "small" "regularPrice"}}</p>
                        <span class="discount-label bg-olive d-flex justify-content-center align-items-center fw-bold">{{this.productOffer}} %</span>
                        {{else}}
                            {{#if (checkOffer this.categoryDetails.[0].categoryOffer)}}
                                <p class=" text-secondary text-decoration-line-through price"> ₹{{getVariantPrice this.variantDetails "small" "regularPrice"}}</p>
                                <span class="discount-label bg-olive d-flex justify-content-center align-items-center fw-bold">{{this.categoryDetails.[0].categoryOffer}} %</span>
                            {{/if}}
                        {{/if}}
                    </div>
                        </figcaption>
                </div>
            </div>
            {{/each}}
        </div>
        <div class="text-center mt-5">
            <a href="/products" class="btn border border-dark rounded-pill fw-bold px-5">View all</a>
        </div>
    </div>
</section>
{{!-- Top selling section --}}
<section id="top-selling" class="pt-5">
    <div class="container">
        <p class="fw-bold fs-4 mt-5 text-center" data-aos="fade-right">Top Selling</p>
    <div class="border border-warning m-auto mb-4" style="width:80px;3px solid black" data-aos="fade-right"></div>
        <div class="top-list-container gy-3 row">
            {{#each products}}
            
            <div class="col-6 col-md-4 col-lg-3" data-aos="fade-up" data-aos-duration="2500">
                <div class="card border-0 product-card-hover">
                    
                        <figure class=" position-relative card-img-container rounded d-flex justify-content-center align-items-center align" style="overflow: hidden;">
                        <a href="/products/product_details/?id={{this._id}}" class="text-decoration-none">
                        <img src="/images/backend/products/{{this.sku}}/{{getImage this.productImage 0}}" class="img-fluid" alt="" style="max-width:300px;height:auto;object-fit: cover;object-position:center" >
                        </a>
                        <button type="button" id="wishlist-button" class="btn position-absolute wishlist-btn">
                            <i class="fa-solid fa-heart heart-icon" id="wishlist-icon" data-productid="{{this._id}}"></i>
                        </button>
                        </figure>
                        
                        <figcaption class="ps-3">
                            <p class="name mt-3 fw-bold fs-5" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">{{this.productName}}</p>
                    <p class="rating lh-1" style="margin-top: -10px;">{{ratingStars this.rating}}</p>
                    <div class="d-flex gap-3" style="margin-top: -5px;">
                        <p class="of-price fw-bold fs-6">₹{{getVariantPrice this.variantDetails "small" "offerPrice"}}</p>
                        {{#if (checkOffer this.productOffer)}}
                        <p class=" text-secondary text-decoration-line-through price"> ₹{{getVariantPrice this.variantDetails "small" "regularPrice"}}</p>
                        <span class="discount-label bg-olive d-flex justify-content-center align-items-center fw-bold">{{this.productOffer}} %</span>
                        {{else}}
                            {{#if (checkOffer this.categoryDetails.[0].categoryOffer)}}
                                <p class=" text-secondary text-decoration-line-through price"> ₹{{getVariantPrice this.variantDetails "small" "regularPrice"}}</p>
                                <span class="discount-label bg-olive d-flex justify-content-center align-items-center fw-bold">{{this.categoryDetails.[0].categoryOffer}} %</span>
                            {{/if}}
                        {{/if}}
                    </div>
                        </figcaption>
                </div>
            </div>
            {{/each}}
        </div>
        <div class="text-center mt-5">
            <a href="/products" class="btn border border-dark rounded-pill fw-bold px-5">View all</a>
        </div>
    </div>
</section>

{{!-- Section style --}}
<section id="style" class="mt-5 pt-5 pb-5">
    <div class="container pt-5 text-center pb-5 rounded" id="bg-secondary">
        <p class="page-headings mb-4" data-aos="fade-right">browse dress by style</p>
        <div class="row gap-3 justify-content-center">
            <div class="col-12 col-md-4">
                <div class="card bg-light rounded position-relative cat-style-card" style="overflow: hidden;">
                    <p class="fs-5 fw-bold position-absolute tag">Casual Wears</p>
                    <img src="/images/frontend/casual wears.jpg" class="img-fluid">
                </div>
            </div>
            <div class="col-12 col-md-7">
                <div class="card bg-light rounded position-relative cat-style-card" style="overflow: hidden;">
                    <p class="fs-5 fw-bold position-absolute tag">Formal Wears</p>
                    <img src="/images/frontend/formal.jpg" class="img-fluid">
                </div>
            </div>
            <div class="col-12 col-md-7">
                <div class="card bg-light rounded position-relative cat-style-card" style="overflow: hidden;">
                    <p class="fs-5 fw-bold position-absolute tag">Party Wears</p>
                    <img src="/images/frontend/party wears.jpeg" class="img-fluid">
                </div>
            </div>
            <div class="col-12 col-md-4">
                <div class="card bg-light rounded position-relative cat-style-card" style="overflow: hidden;">
                    <p class="fs-5 fw-bold position-absolute tag">Sports Wears</p>
                    <img src="/images/frontend/haaaaaaaland.jpg" class="img-fluid">
                </div>
            </div>
        </div>
    </div>
</section>
{{!-- Our happy customers --}}

<section id="customer-carousel">
    <div class="container position-relative">
        <div class="carousel slide position-relative" data-bs-ride="carousel" id="review-carousel">
            <h4 class="page-headings mt-5 mb-5" data-aos="fade-right">Our Happy Customers</h4>
        <div class="carousel-inner">
            {{#each (chunks reviews 4)}}
            <div class="carousel-item {{#if @first}} active {{/if}}">
                <div class="row gap-3 justify-content-center pt-2 pb-2">
                    {{#each this}}
                    <div class="card border-0 col-2 shadow" style="width: 250px;border-color:rgba(108, 108, 108, 0.5)">
                        <p class="rating mt-2">{{ratingStars rating}}</p>
                        <p class="customer-name fw-bold" style="margin-top: -10px;">{{customerName}} <span class="rounded-circle bg-success d-inline-flex align-items-center justify-content-center p-1" style="width: 15px;height:15px"><i class="fa-solid fa-check" style="color: white;font-size:0.500rem"></i></span></p>
                        <p class="review-description">{{description}}</p>
                        <p class="date fw-bold">{{getCallender date}}</p>
                    </div>
                    {{/each}}
                </div>
            </div>
            {{/each}}
            
        </div>
        <div class="control-container">
            <a class="carousel-control-prev" href="#review-carousel" role="button" data-bs-slide="prev">
                {{!-- <span class="carousel-control-prev-icon"></span> --}}
                <i class="fa-solid fa-angle-left text-dark fw-bold fs-4"></i>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#review-carousel" role="button" data-bs-slide="next">
                {{!-- <span class="carousel-control-next-icon"></span> --}}
                <i class="fa-solid fa-angle-right text-dark fw-bold fs-4"></i>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    </div>
    {{!-- Newsletter --}}
</section>
{{!-- <script src="https://unpkg.com/scrollreveal"></script> --}}
<script>
    document.addEventListener('DOMContentLoaded', (e) => {
        const counters = document.querySelectorAll('.count')
        
        counters.forEach((element) => {
            const target = Number(element.getAttribute('data-count-target'))
            setInterval(() => {
                if(Number(element.innerHTML) < target){
                    element.innerHTML = Number(element.innerHTML) + 1
                }
            
            },50)
            
        })
        /*const banners = document.getElementById('landing-section').dataset.banners
        console.log('This is banners', banners)
        const parsedOne = JSON.parse(banners)
        const formalCarousel = document.getElementById('carousel-formalSection')
        const sportsCarousel = document.getElementById('carousel-sportsSection')
        const bannerType = banners[0]
        const bannerImage = undefined
        parsedOne.forEach((banner) => {
            console.log('each banners : ', banner)
        })
        console.log(bannerType)
        try{
            formalCarousel.style.backgroundImage = `url('/images/backend/banners/${parsedOne[1].bannerType}/${parsedOne[1].bannerImage}')`
            sportsCarousel.style.backgroundImage = `url('/images/backend/banners/${parsedOne[0].bannerType}/${parsedOne[0].bannerImage}')`
        }catch(e){
            console.log('error occured while seting the bacground', e)
        }
        const carausel = document.getElementById('landingPageCarousel')
        function handleCarousel(){
            if(window.innerWidth <= 768){
                bootstrap.Carousel.getInstance(carausel)?.pause()
            }else{
                bootstrap.Carousel.getInstance(carausel)?.cycle()
            }
        }

        const carouselInstance = new bootstrap.Carousel(carausel)
        handleCarousel()

        window.addEventListener('resize', handleCarousel)*/
        

        AOS.init()

        /*const landingPageHead = document.getElementById('landingPageHead')
        setTimeout(() => {
            landingPageHead.style.marginLeft = '0px'
            landingPageHead.style.opacity = '1'
        }, 200)*/

        
    })
</script>